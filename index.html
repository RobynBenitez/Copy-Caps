<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CLICKABOLS</title>

<style>

body{
    font-family: Arial;
    background:#111;
    color:#eee;
    display:flex;
    justify-content:center;
    padding:40px 15px;
}

.container{
    width:100%;
    max-width:650px;
    background:#1e1e1e;
    padding:25px;
    border-radius:28px;
}

h3{
    margin-top:25px;
}

textarea{
    width:100%;
    height:90px;
    margin-top:8px;
    padding:12px;
    border-radius:18px;
    border:none;
    background:#2a2a2a;
    color:white;
    resize:none;
}

.output-row{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    margin-top:15px;
}

.output-btn{
    padding:12px 16px;
    margin:6px;
    border:none;
    border-radius:18px;
    background:#333;
    color:white;
    cursor:pointer;
    transition:0.2s;
}

.output-btn.active{
    background:#7a1b1b;
}

.generate-btn{
    width:100%;
    padding:14px;
    margin-top:12px;
    border:none;
    border-radius:18px;
    background:#444;
    color:white;
    font-size:15px;
    cursor:pointer;
}

</style>
</head>

<body>

<div class="container">

<h2 style="text-align:center">CLICKA BY RB</h2>

<h3>Picture</h3>
<textarea id="pics"></textarea>

<h3>Caption</h3>
<textarea id="captions"></textarea>

<h3>Topic</h3>
<textarea id="topics"></textarea>

<h3>Bio and Repost (TAB separated)</h3>
<textarea id="repost"></textarea>

<button class="generate-btn" onclick="generate()">Generate Buttons</button>

<div id="output"></div>

</div>

<script>

let activeButton = null;

/* Clean lines */
function cleanLines(text){
    return text.split("\n")
        .map(l=>l.trim())
        .filter(l=>l && !l.includes(".txt"));
}

/* Bio formatter */
function formatBio(text){
    if(!text) return "";

    const match = text.match(/^(\S+)\s+(.*)$/);

    if(!match) return text;

    return match[1] + "\n" + match[2];
}

/* Copy button creator */
function createCopyButton(label, value){

    const btn = document.createElement("button");
    btn.className="output-btn";
    btn.innerText=label;

    btn.onclick = ()=>{

        navigator.clipboard.writeText(value);

        if(activeButton){
            activeButton.classList.remove("active");
        }

        btn.classList.add("active");
        activeButton = btn;
    };

    return btn;
}

/* Generate output */
function generate(){

    const output = document.getElementById("output");
    output.innerHTML="";

    const pics = cleanLines(document.getElementById("pics").value);
    const caps = cleanLines(document.getElementById("captions").value);
    const tops = cleanLines(document.getElementById("topics").value);

    /* Picture Buttons */
    const picRow = document.createElement("div");
    picRow.className="output-row";

    for(let i=0;i<3;i++){
        if(pics[i]){
            picRow.appendChild(
                createCopyButton("Pic"+(i+1), pics[i])
            );
        }
    }

    output.appendChild(picRow);

    /* Caption Buttons */
    const capRow = document.createElement("div");
    capRow.className="output-row";

    for(let i=0;i<3;i++){
        if(caps[i]){
            capRow.appendChild(
                createCopyButton("Caption"+(i+1), caps[i])
            );
        }
    }

    output.appendChild(capRow);

    /* Topic Buttons */
    const topRow = document.createElement("div");
    topRow.className="output-row";

    for(let i=0;i<3;i++){
        if(tops[i]){
            topRow.appendChild(
                createCopyButton("Topic"+(i+1), tops[i])
            );
        }
    }

    output.appendChild(topRow);

    /* Repost Tool (TAB separated) */
    const repostRow = document.createElement("div");
    repostRow.className="output-row";

    const raw = document.getElementById("repost").value.trim();

    if(raw){

        const parts = raw.split("\t");

        const bioRaw = parts[0] || "";
        const repostCaption = parts[1] || "";
        const repostAcc = parts[2] || "";

        repostRow.appendChild(
            createCopyButton("Bio", formatBio(bioRaw))
        );

        repostRow.appendChild(
            createCopyButton("Repost Caption", repostCaption)
        );

        repostRow.appendChild(
            createCopyButton("Repost Account", repostAcc)
        );
    }

    output.appendChild(repostRow);
}

</script>

</body>
</html>
